---
Metadata:
  TemplateId: "arn:aws:cloudformation:ap-south-1:119391704005:generatedTemplate/d026c9ae-6619-4c7c-91f2-f529d065a052"
Parameters:
  LambdaFunction00Lambdainvokedatabrewmembereligibility00MXqdHCodeS3BucketOneOfKIrgP:
    NoEcho: "true"
    Type: "String"
    Description: "An Amazon S3 bucket in the same AWS-Region as your function. The\
      \ bucket can be in a different AWS-account.\nThis property can be replaced with\
      \ other exclusive properties"
  LambdaFunction00Lambdainvokegluemembereligibility00Tmy0OCodeS3KeyOneOf2wtJ7:
    NoEcho: "true"
    Type: "String"
    Description: "The Amazon S3 key of the deployment package.\nThis property can\
      \ be replaced with other exclusive properties"
  LambdaFunction00lambdaapiuploadfileS300X5pSLCodeS3BucketOneOf8PrOE:
    NoEcho: "true"
    Type: "String"
    Description: "An Amazon S3 bucket in the same AWS-Region as your function. The\
      \ bucket can be in a different AWS-account.\nThis property can be replaced with\
      \ other exclusive properties"
  LambdaFunction00Lambdainvokegluemembereligibility00Tmy0OCodeS3BucketOneOfEm5ML:
    NoEcho: "true"
    Type: "String"
    Description: "An Amazon S3 bucket in the same AWS-Region as your function. The\
      \ bucket can be in a different AWS-account.\nThis property can be replaced with\
      \ other exclusive properties"
  LambdaFunction00Lambdainvokedatabrewmembereligibility00MXqdHCodeS3KeyOneOfG6Rh2:
    NoEcho: "true"
    Type: "String"
    Description: "The Amazon S3 key of the deployment package.\nThis property can\
      \ be replaced with other exclusive properties"
  LambdaFunction00lambdaapiuploadfileS300X5pSLCodeS3KeyOneOf006WF:
    NoEcho: "true"
    Type: "String"
    Description: "The Amazon S3 key of the deployment package.\nThis property can\
      \ be replaced with other exclusive properties"
Resources:
  LambdaFunction00lambdaapiuploadfileS300X5pSL:
    UpdateReplacePolicy: "Retain"
    Type: "AWS::Lambda::Function"
    DeletionPolicy: "Retain"
    Properties:
      MemorySize: 128
      Description: ""
      TracingConfig:
        Mode: "PassThrough"
      Timeout: 10
      RuntimeManagementConfig:
        UpdateRuntimeOn: "Auto"
      Handler: "lambda_function.lambda_handler"
      Code:
        S3Bucket:
          Ref: "LambdaFunction00lambdaapiuploadfileS300X5pSLCodeS3BucketOneOf8PrOE"
        S3Key:
          Ref: "LambdaFunction00lambdaapiuploadfileS300X5pSLCodeS3KeyOneOf006WF"
      Role:
        Fn::GetAtt:
        - "IAMRole00LambdaSampleapiprojectroletpld7ojz00hyhj9"
        - "Arn"
      FileSystemConfigs: []
      FunctionName: "lambda-api-upload-file-S3"
      Runtime: "python3.12"
      PackageType: "Zip"
      LoggingConfig:
        LogFormat: "Text"
        LogGroup: "/aws/lambda/lambda-api-upload-file-S3"
      EphemeralStorage:
        Size: 512
      Layers:
      - "arn:aws:lambda:ap-south-1:119391704005:layer:requests:1"
      Architectures:
      - "x86_64"
  IAMRole00Lambdainvokedatabrewmembereligibilityrolet7b5diar00R4vEs:
    UpdateReplacePolicy: "Retain"
    Type: "AWS::IAM::Role"
    DeletionPolicy: "Retain"
    Properties:
      Path: "/service-role/"
      ManagedPolicyArns:
      - "arn:aws:iam::aws:policy/AmazonS3ReadOnlyAccess"
      - "arn:aws:iam::119391704005:policy/service-role/AWSLambdaBasicExecutionRole-9e39e7f6-d4f7-42d3-9698-012d5df05135"
      MaxSessionDuration: 3600
      RoleName: "Lambda-invoke-databrew-member-eligibility-roledemo-t7b5diar"
      Policies:
      - PolicyDocument:
          Version: "2012-10-17"
          Statement:
          - Resource:
            - "*"
            Action:
            - "glue:GetJob"
            - "glue:GetJobRun"
            - "glue:StartJobRun"
            - "glue:GetTable"
            Effect: "Allow"
            Sid: "allowstartgluejob"
        PolicyName: "allowstartgluejob"
      - PolicyDocument:
          Version: "2012-10-17"
          Statement:
          - Resource:
            - "arn:aws:databrew:*:119391704005:schedule/*"
            - "arn:aws:databrew:*:119391704005:project/*"
            - "arn:aws:databrew:*:119391704005:job/*"
            - "arn:aws:databrew:*:119391704005:ruleset/*"
            - "arn:aws:databrew:*:119391704005:recipe/*"
            - "arn:aws:databrew:*:119391704005:dataset/*"
            Action:
            - "databrew:DescribeJob"
            - "databrew:StartProjectSession"
            - "databrew:ListTagsForResource"
            - "databrew:DeleteJob"
            - "databrew:DescribeDataset"
            - "databrew:DescribeSchedule"
            - "databrew:DescribeRuleset"
            - "databrew:StartJobRun"
            - "databrew:StopJobRun"
            - "databrew:DescribeJobRun"
            - "databrew:ListJobRuns"
            - "databrew:DescribeProject"
            - "databrew:ListRecipeVersions"
            - "databrew:DescribeRecipe"
            Effect: "Allow"
            Sid: "VisualEditor0"
          - Resource: "*"
            Action:
            - "databrew:CreateRecipe"
            - "databrew:ListDatasets"
            - "databrew:ListJobs"
            - "databrew:ListSchedules"
            - "databrew:ListRecipes"
            - "databrew:CreateRecipeJob"
            - "databrew:ListProjects"
            - "databrew:ListRulesets"
            Effect: "Allow"
            Sid: "VisualEditor1"
        PolicyName: "DatabrewJobRunAccessdemo"
      AssumeRolePolicyDocument:
        Version: "2012-10-17"
        Statement:
        - Action: "sts:AssumeRole"
          Effect: "Allow"
          Principal:
            Service: "lambda.amazonaws.com"
  IAMRole00LambdaSampleapiprojectroletpld7ojz00hyhj9:
    UpdateReplacePolicy: "Retain"
    Type: "AWS::IAM::Role"
    DeletionPolicy: "Retain"
    Properties:
      Path: "/service-role/"
      ManagedPolicyArns:
      - "arn:aws:iam::119391704005:policy/service-role/AWSLambdaBasicExecutionRole-3335b530-a51a-4c21-a6ae-8aec442f9809"
      MaxSessionDuration: 3600
      RoleName: "Lambda-Sample-api-project-roledemo-tpld7ojz"
      Policies:
      - PolicyDocument:
          Version: "2012-10-17"
          Statement:
          - Resource: "arn:aws:dynamodb:*:119391704005:table/*/index/*"
            Action:
            - "dynamodb:Scan"
            - "dynamodb:Query"
            Effect: "Allow"
            Sid: "VisualEditor0"
          - Resource: "arn:aws:dynamodb:*:119391704005:table/*"
            Action:
            - "dynamodb:PutItem"
            - "dynamodb:DeleteItem"
            - "dynamodb:GetItem"
            - "dynamodb:Scan"
            - "dynamodb:Query"
            - "dynamodb:UpdateItem"
            Effect: "Allow"
            Sid: "VisualEditor1"
        PolicyName: "powerofmathDynamopolicydemo"
      - PolicyDocument:
          Version: "2012-10-17"
          Statement:
          - Resource: "arn:aws:s3:::*/*"
            Action:
            - "s3:PutObject"
            - "s3:GetObject"
            Effect: "Allow"
            Sid: "VisualEditor0"
        PolicyName: "S3-Get-Put-access-to-lambdademo"
      AssumeRolePolicyDocument:
        Version: "2012-10-17"
        Statement:
        - Action: "sts:AssumeRole"
          Effect: "Allow"
          Principal:
            Service: "lambda.amazonaws.com"
  IAMRole00Lambdainvokegluemembereligibilityroleggz9260f002k2kP:
    UpdateReplacePolicy: "Retain"
    Type: "AWS::IAM::Role"
    DeletionPolicy: "Retain"
    Properties:
      Path: "/service-role/"
      ManagedPolicyArns:
      - "arn:aws:iam::119391704005:policy/service-role/AWSLambdaBasicExecutionRole-c3afe515-ca98-4668-8fe8-96c66585a0e2"
      MaxSessionDuration: 3600
      RoleName: "Lambda-invoke-glue-member-eligibility-roledemo-ggz9260f"
      Policies:
      - PolicyDocument:
          Version: "2012-10-17"
          Statement:
          - Resource: "arn:aws:glue:*:119391704005:job/*"
            Action:
            - "glue:StartJobRun"
            - "glue:GetJobRun"
            - "glue:GetJobRuns"
            Effect: "Allow"
            Sid: "VisualEditor0"
          - Resource: "*"
            Action: "glue:GetJobs"
            Effect: "Allow"
            Sid: "VisualEditor1"
        PolicyName: "Glue_Job_Run_Accessdemo"
      AssumeRolePolicyDocument:
        Version: "2012-10-17"
        Statement:
        - Action: "sts:AssumeRole"
          Effect: "Allow"
          Principal:
            Service: "lambda.amazonaws.com"
  LambdaFunction00Lambdainvokedatabrewmembereligibility00MXqdH:
    UpdateReplacePolicy: "Retain"
    Type: "AWS::Lambda::Function"
    DeletionPolicy: "Retain"
    Properties:
      MemorySize: 128
      Description: ""
      TracingConfig:
        Mode: "PassThrough"
      Timeout: 20
      RuntimeManagementConfig:
        UpdateRuntimeOn: "Auto"
      Handler: "lambda_function.lambda_handler"
      Code:
        S3Bucket:
          Ref: "LambdaFunction00Lambdainvokedatabrewmembereligibility00MXqdHCodeS3BucketOneOfKIrgP"
        S3Key:
          Ref: "LambdaFunction00Lambdainvokedatabrewmembereligibility00MXqdHCodeS3KeyOneOfG6Rh2"
      Role:
        Fn::GetAtt:
        - "IAMRole00Lambdainvokedatabrewmembereligibilityrolet7b5diar00R4vEs"
        - "Arn"
      FileSystemConfigs: []
      FunctionName: "Lambda-invoke-databrew-member-eligibility"
      Runtime: "python3.10"
      PackageType: "Zip"
      LoggingConfig:
        LogFormat: "Text"
        LogGroup: "/aws/lambda/Lambda-invoke-databrew-member-eligibility"
      EphemeralStorage:
        Size: 512
      Architectures:
      - "x86_64"
  LambdaPermission00functionlambdaapiuploadfileS300YC1E9:
    UpdateReplacePolicy: "Retain"
    Type: "AWS::Lambda::Permission"
    DeletionPolicy: "Retain"
    Properties:
      FunctionName:
        Fn::GetAtt:
        - "LambdaFunction00lambdaapiuploadfileS300X5pSL"
        - "Arn"
      Action: "lambda:InvokeFunction"
      SourceArn: "arn:aws:execute-api:ap-south-1:119391704005:id3tzw7z3j/*/POST/"
      Principal: "apigateway.amazonaws.com"
  LambdaPermission00functionlambdaapiuploadfileS300eoO3S:
    UpdateReplacePolicy: "Retain"
    Type: "AWS::Lambda::Permission"
    DeletionPolicy: "Retain"
    Properties:
      FunctionName:
        Fn::GetAtt:
        - "LambdaFunction00lambdaapiuploadfileS300X5pSL"
        - "Arn"
      Action: "lambda:InvokeFunction"
      SourceArn: "arn:aws:execute-api:ap-south-1:119391704005:o3drj59r84/*/POST/*/*"
      Principal: "apigateway.amazonaws.com"
  LambdaPermission00functionlambdaapiuploadfileS300Md0VJ:
    UpdateReplacePolicy: "Retain"
    Type: "AWS::Lambda::Permission"
    DeletionPolicy: "Retain"
    Properties:
      FunctionName:
        Fn::GetAtt:
        - "LambdaFunction00lambdaapiuploadfileS300X5pSL"
        - "Arn"
      Action: "lambda:InvokeFunction"
      SourceArn: "arn:aws:execute-api:ap-south-1:119391704005:o3drj59r84/*/PUT/*/*"
      Principal: "apigateway.amazonaws.com"
  LambdaPermission00functionlambdaapiuploadfileS300uz7ny:
    UpdateReplacePolicy: "Retain"
    Type: "AWS::Lambda::Permission"
    DeletionPolicy: "Retain"
    Properties:
      FunctionName:
        Fn::GetAtt:
        - "LambdaFunction00lambdaapiuploadfileS300X5pSL"
        - "Arn"
      Action: "lambda:InvokeFunction"
      SourceArn: "arn:aws:execute-api:ap-south-1:119391704005:o3drj59r84/*/POST/*"
      Principal: "apigateway.amazonaws.com"
  LambdaFunction00Lambdainvokegluemembereligibility00Tmy0O:
    UpdateReplacePolicy: "Retain"
    Type: "AWS::Lambda::Function"
    DeletionPolicy: "Retain"
    Properties:
      MemorySize: 128
      Description: ""
      TracingConfig:
        Mode: "PassThrough"
      Timeout: 3
      RuntimeManagementConfig:
        UpdateRuntimeOn: "Auto"
      Handler: "lambda_function.lambda_handler"
      Code:
        S3Bucket:
          Ref: "LambdaFunction00Lambdainvokegluemembereligibility00Tmy0OCodeS3BucketOneOfEm5ML"
        S3Key:
          Ref: "LambdaFunction00Lambdainvokegluemembereligibility00Tmy0OCodeS3KeyOneOf2wtJ7"
      Role:
        Fn::GetAtt:
        - "IAMRole00Lambdainvokegluemembereligibilityroleggz9260f002k2kP"
        - "Arn"
      FileSystemConfigs: []
      FunctionName: "Lambda-invoke-glue-member-eligibility"
      Runtime: "python3.10"
      PackageType: "Zip"
      LoggingConfig:
        LogFormat: "Text"
        LogGroup: "/aws/lambda/Lambda-invoke-glue-member-eligibility"
      EphemeralStorage:
        Size: 512
      Architectures:
      - "x86_64"
  LambdaPermission00functionlambdaapiuploadfileS3008htbM:
    UpdateReplacePolicy: "Retain"
    Type: "AWS::Lambda::Permission"
    DeletionPolicy: "Retain"
    Properties:
      FunctionName:
        Fn::GetAtt:
        - "LambdaFunction00lambdaapiuploadfileS300X5pSL"
        - "Arn"
      Action: "lambda:InvokeFunction"
      SourceArn: "arn:aws:execute-api:ap-south-1:119391704005:o3drj59r84/*/GET/*/*"
      Principal: "apigateway.amazonaws.com"
